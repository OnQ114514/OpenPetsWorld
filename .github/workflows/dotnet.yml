# This workflow will build a .NET project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net

name: .NET

on:
  push:
    branches: [ "develop-next" ]
  pull_request:
    branches: [ "develop-next" ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - name: Setup .NET
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: 8.0.x
      - name: Restore dependencies
        run: dotnet restore
      - name: Build
        run: dotnet build --no-restore
      - name: Upload a Build Artifact
        uses: actions/upload-artifact@v4.3.6
        with:
          # Artifact name
          name: # optional, default is artifact
          # A file, directory or wildcard pattern that describes what to upload
          path:
          # The desired behavior if no files are found using the provided path.
      - name: Cache
        uses: actions/cache@v4.0.2
        with:
        # A list of files, directories, and wildcard patterns to cache and restore
        path:
        # An explicit key for restoring and saving the cache
        key:
      # An ordered list of keys to use for restoring stale cache if no cache hit occurred for key. Note `cache-hit` returns false in this case.
        restore-keys: # optional
      # The chunk size used to split up large files during upload, in bytes
        upload-chunk-size: # optional
      # An optional boolean when enabled, allows windows runners to save or restore caches that can be restored or saved respectively on other platforms
        enableCrossOsArchive: # optional, default is false
      # Fail the workflow if cache entry is not found
        fail-on-cache-miss: # optional, default is false
      # Check if a cache entry exists for the given input(s) (key, restore-keys) without downloading the cache
        lookup-only: # optional, default is false
      # Run the post step to save the cache even if another step before fails
        save-always: # optional, default is false

Available Options:
  warn: Output a warning but do not fail the action
  error: Fail the action with an error message
  ignore: Do not output any warnings or errors, the action does not fail

  if-no-files-found: Minimum 1 day. Maximum 90 days unless changed from the repository settings page.

retention-days: # optional
# The level of compression for Zlib to be applied to the artifact archive. The value can range from 0 to 9: - 0: No compression - 1: Best speed - 6: Default compression (same as GNU Gzip) - 9: Best compression Higher levels will result in better compression, but will take longer to complete. For large files that are not easily compressed, a value of 0 is recommended for significantly faster uploads.

compression-level: # optional, default is 6
# If true, an artifact with a matching name will be deleted before a new one is uploaded. If false, the action will fail if an artifact for the given name already exists. Does not fail if the artifact does not exist.

overwrite: # optional, default is false
          